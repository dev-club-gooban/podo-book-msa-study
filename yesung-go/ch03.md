# Ch03 마이크로서비스 애플리케이션 아키텍처 ~ Ch05 마이크로 서비스 설계

## 핵심
- 관심사의 분리 원칙 : 시스템의 각 영역이 처리하는 관심사가 분리되어 잘 관리되어야 한다는 의미<br>
이 원칙은 시스템을 이해하고 변경하기 쉽게 만들어준다. 이 원치겡 따라 각 영역은 고유의 관심사에 의해 분리되고 집중되어야 한다.<br>
특히 비즈니스를 표현하는 비즈니스 로직 영역과 기술 문제를 처리하기 위한 기술 영역은 철저히 분리하는 것이 좋다.<br>
- 내부영역(도메인 규칙)과 외부영역(세부사항)의 분리<br>
- 마이크로 서비스를 도출하는 방법 : 비즈니스 능력에 근거한 도출, DDD의 바운디드 컨텍스트 기반 도출<br>
외부영역 (API 퍼블리싱 어댑터, API 프락시 어댑터, 저장소 처리 어댑터, 도메인 이벤트 발행 어댑터, 도메인 이벤트 핸들러)<br>
- 유비쿼터스 언어, 도메인 모델, 바운디드 컨텍스트<br>

## 중요
- 데이터베이스 중심 아키텍처의 문제점 : 비즈니스 개념과 규칙들이 SQL 질의에 존재하고 DTO는 질의를 통해 가져오는 정보 묶음의 역할만 하게 된다.<br>
비즈니스 민첩성을 위해서는 유연성과 확장성이 중요하지만 이럴 경우 데이터베이스를 교체하는 것이 어렵다.<br>
또 대부분의 성능을 데이터베이스에 의존하고, 성능을 최적화할 방법은 SQL 튜닝 밖에 없다.<br>
- 레이어드 아키텍처, 헥사고날 아키텍처, 클린 아키텍처의 차이점<br>
- 도메인 주도 설계의 애그리거트 패턴<br>

- DDD의 전략적 설계<br>
    - 도메인<br>
    - 서브도메인<br>
        - 핵심 서브 도메인 : 다른 경쟁자와 차별화를 만들 비즈니스 영역 -> 기업의 프로젝트 목록에서 높은 우선순위를 갖는 영역<br>
        - 지원 서브 도메인 : 비즈니스에 필수적이지만 핵심은 아닌 부분 그러나 핵심 도메인을 성공시키기 위해서는 반드시 필요한 영역<br>
        - 일반 서브 도메인 : 비즈니스적으로 특화된 부분은 아니지만 전체 비즈니스 솔루션에는 필요한 부분(기존 제춤을 구매해서 대체 가능)<br>

- 컨텍스트 맵핑<br>
  - 공유 커널<br>
  - 소비자와 공급자<br>
  - 준수자<br>
  - 충돌 방지 계층<br>
  - 공개 호스트 서비스<br>
  - 발행된 언어<br>
  
## 재미
- 트랜잭션 스크립트 패턴, 도메인 모델 패턴<br>
- 마이크로서비스는 얼마나 작아야 할까?<br>
- 아마존, 쿠팡을 통한 서브도메인 분류<br>
- 컨텍스트 맵 부분<br>
